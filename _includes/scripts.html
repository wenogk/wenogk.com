<script src="{{ site.baseurl | prepend: site.url }}/assets/js/jquery-1.12.2.min.js"></script>
<script src="{{ site.baseurl | prepend: site.url }}/assets/js/backtotop.js"></script>
<script src="{{ site.baseurl | prepend: site.url }}/assets/js/lunr.min.js"></script>
<script src="{{ site.baseurl | prepend: site.url }}/assets/js/lunr-feed.js"></script>
<script src="{{ site.baseurl | prepend: site.url }}/assets/js/jquery.fitvids.js"></script>
<script src="{{ site.baseurl | prepend: site.url }}/assets/js/svg4everybody.min.js"></script>
<script src="{{ site.baseurl | prepend: site.url }}/assets/js/scripts.js"></script>
<script src="{{ site.baseurl | prepend: site.url }}/assets/js/ScrollMagic.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.4/gsap.min.js"></script>

<script>
	// init controller
  function startStuff() {
  $(".user-profile").css({padding:"15px","top":"50%", left: "50%","transform": "translate(-50%, -50%)"});
  $(".user-profile").css("background-color","rgba(256, 256, 256, 0.5)");
  $(".user-profile").addClass("fixed");
  $(".mainmenu").css({display : "none"});
  $(".avatar").css({display : "none"});
}
function endStuff() {
  $(".user-profile").addClass("fixed");
  $(".mainmenu").css({display : "block"});
  $(".avatar").css({display : "block"});
  $(".user-profile").css({padding:"0px",top:"60px", left: "auto","transform": "none"});

}

function startScrollMagicStuff() {
startStuff();
	var controller = new ScrollMagic.Controller();
  let pos = $("body").width() - $(".search").width();
  var action = gsap.timeline().to(".user-profile",{duration:1, left:"300px",  "background-color":"rgba(256, 256, 256, 0)"}).to(".user-profile",{duration:1,  "background-color":"rgba(256, 256, 256, 0)"});
  var scene = new ScrollMagic.Scene({triggerElement: "#scrollTrigger", duration: ($(".headerx").height()-460),offset:"460"})
					// animate color and top border in relation to scroll position
					.setTween(action) // the tween durtion can be omitted and defaults to 1
					//.addIndicators({name: "2 (duration: 300)"}) // add indicators (requires plugin)
					.addTo(controller)
          .on("start", function (e) {
            startStuff();
          })
          .on("end", function (e) {
              endStuff();
					});
        }
if(animationPls === true) {startScrollMagicStuff()};
</script>
{% if site.analytics_code != null %}
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', '{{site.analytics_code}}', 'auto');
        ga('send', 'pageview');
    </script>
{% endif %}
